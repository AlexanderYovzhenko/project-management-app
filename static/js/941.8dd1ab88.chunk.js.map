{"version":3,"file":"static/js/941.8dd1ab88.chunk.js","mappings":"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","sources":["webpack://project-management-app/./src/pages/profile/Profile.module.scss?f719","pages/profile/Profile.tsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"profile\":\"Profile_profile__oP1l7\",\"form_profile\":\"Profile_form_profile__q4-+N\",\"sub_btn\":\"Profile_sub_btn__8MnkO\",\"loader\":\"Profile_loader__2GT3+\",\"del_btn\":\"Profile_del_btn__LKjwA\",\"error\":\"Profile_error__WUOmw\"};","import { ErrorMessage, Field, Form, Formik } from 'formik';\nimport React, { useEffect, useState } from 'react';\nimport { updateUser } from '../../api/auth';\nimport Header from '../../components/header/Header';\nimport { useAppDispatch, useAppSelector } from '../../redux-hooks/redux-hooks';\nimport styles from './Profile.module.scss';\nimport * as Yup from 'yup';\nimport jwtDecode from 'jwt-decode';\nimport LoadingAnimation from '../../components/loading-animation/LoadingAnimation';\nimport { useTranslation } from 'react-i18next';\nimport { IJwt } from '../../models/IJwt';\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { resetSuccess } from '../../store/authSlice';\nimport ConfirmModal from '../../components/confirm-modal/ConfirmModal';\n\nconst Profile = () => {\n  const dispatch = useAppDispatch();\n  const [isOpenModal, setIsOpenModal] = useState(false);\n  const { token } = useAppSelector((state) => state.auth);\n  const { isLoading, error, isSuccess } = useAppSelector((state) => state.auth);\n  const { userId: id } = jwtDecode<IJwt>(token);\n  const { t } = useTranslation();\n\n  const validationSchema = Yup.object().shape({\n    name: Yup.string()\n      .matches(/^[A-Za-z ]*$/, t('please_enter_valid_name'))\n      .min(2, t('must_be_more_than_2_characters'))\n      .max(30, t('must_be_less_than_30_characters'))\n      .required(t('name_is_required')),\n    login: Yup.string()\n      .matches(/^[a-zA-Z0-9_-]*$/, t('please_enter_valid_login'))\n      .min(3, t('must_be_more_than_3_characters'))\n      .max(20, t('must_be_less_than_20_characters'))\n      .required(t('login_is_required')),\n    password: Yup.string()\n      .matches(/^[a-zA-Z0-9]*$/, t('password_can_contain_only_latin_letters_and_ciphers'))\n      .min(4, t('must_be_more_than_4_characters'))\n      .max(16, t('must_be_less_than_16_characters'))\n      .required(t('password_is_required')),\n    confirmPassword: Yup.string()\n      .oneOf([Yup.ref('password')], t('passwords_do_not_match'))\n      .required(t('confirm_password_is_required')),\n  });\n\n  useEffect(() => {\n    if (error) {\n      toast.error(error, {\n        position: 'top-center',\n        autoClose: 3000,\n        hideProgressBar: true,\n      });\n    }\n  }, [error]);\n\n  useEffect(() => {\n    if (isSuccess) {\n      toast.success('Profile changed successfully', {\n        position: 'top-center',\n        autoClose: 3000,\n        hideProgressBar: true,\n      });\n      dispatch(resetSuccess());\n    }\n  }, [isSuccess]);\n\n  return (\n    <div className={styles.profile}>\n      <Header />\n      <ToastContainer />\n      <Formik\n        initialValues={{ name: '', login: '', password: '', confirmPassword: '' }}\n        onSubmit={({ name, login, password }, { resetForm }) => {\n          dispatch(updateUser({ name, login, password, id, token }));\n          resetForm();\n        }}\n        validationSchema={validationSchema}\n      >\n        {({ handleSubmit }) => {\n          return (\n            <Form className={styles.form_profile} onSubmit={handleSubmit}>\n              <h1>{t('profile')}</h1>\n              <label htmlFor=\"name\">\n                {t('name')}\n                <Field id=\"name\" name=\"name\" />\n                <div className={styles.error}>\n                  <ErrorMessage name=\"name\" />\n                </div>\n              </label>\n\n              <label htmlFor=\"login\">\n                {t('login')}\n                <Field id=\"login\" name=\"login\" />\n                <div className={styles.error}>\n                  <ErrorMessage name=\"login\" />\n                </div>\n              </label>\n\n              <label htmlFor=\"password\">\n                {t('password')}\n                <Field id=\"password\" name=\"password\" type=\"password\" />\n                <div className={styles.error}>\n                  <ErrorMessage name=\"password\" />\n                </div>\n              </label>\n\n              <label htmlFor=\"confirmPassword\">\n                {t('confirm_pass')}\n                <Field id=\"confirmPassword\" name=\"confirmPassword\" type=\"password\" />\n                <div className={styles.error}>\n                  <ErrorMessage name=\"confirmPassword\" />\n                </div>\n              </label>\n\n              <div className={styles.sub_btn}>\n                <div className={styles.loader}>{isLoading && <LoadingAnimation />}</div>\n\n                <button type=\"submit\" disabled={isLoading}>\n                  {t('save_profile')}\n                </button>\n              </div>\n\n              <div className={styles.del_btn}>\n                <button type=\"button\" onClick={() => setIsOpenModal(true)} disabled={isLoading}>\n                  {t('del_user')}\n                </button>\n              </div>\n            </Form>\n          );\n        }}\n      </Formik>\n\n      <ConfirmModal\n        action=\"delete_user\"\n        data={{ id, token }}\n        isOpenModal={isOpenModal}\n        setIsOpenModal={setIsOpenModal}\n      />\n    </div>\n  );\n};\n\nexport default Profile;\n"],"names":["dispatch","useAppDispatch","useState","isOpenModal","setIsOpenModal","token","useAppSelector","state","auth","isLoading","error","isSuccess","id","jwtDecode","userId","t","useTranslation","validationSchema","Yup","shape","name","matches","min","max","required","login","password","confirmPassword","oneOf","useEffect","toast","position","autoClose","hideProgressBar","resetSuccess","className","styles","Header","initialValues","onSubmit","resetForm","updateUser","handleSubmit","htmlFor","type","LoadingAnimation","disabled","onClick","ConfirmModal","action","data"],"sourceRoot":""}